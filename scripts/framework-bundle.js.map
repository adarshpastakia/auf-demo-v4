{"version":3,"sources":["src/elements/components/ui-menu.ts"],"names":[],"mappings":"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","file":"framework-bundle.js","sourcesContent":["//\n// @description :\n// @author      : Adarsh Pastakia\n// @copyright   : 2017\n// @license     : MIT\nimport { autoinject, customElement, bindable, bindingMode, inlineView, containerless, child } from 'aurelia-framework';\nimport { UIEvent } from \"../../utils/ui-event\";\nimport { UIUtils } from \"../../utils/ui-utils\";\n\n@autoinject()\n@inlineView(`\n<template class=\"ui-menubar\">\n  <div class=\"ui-menubar-wrapper\" ref=\"wrapper\"><slot></slot></div>\n  <div class=\"ui-menubar-toggle\" ref=\"overflowToggle\" show.bind=\"isOverflow\" click.trigger=\"showOverflow($event)\"><ui-glyph glyph=\"glyph-handle-overflow\"></ui-glyph></div>\n  <div class=\"ui-menu ui-menubar-overflow ui-floating\" ref=\"overflow\"></div>\n</template>`)\n@customElement('ui-menubar')\nexport class UIMenubar {\n  constructor(public element: Element) { }\n\n  // aurelia hooks\n  // created(owningView: View, myView: View) { }\n  // bind(bindingContext: Object, overrideContext: Object) { }\n  attached() {\n    this.obResize = UIEvent.subscribe('windowresize', () => this.arrange());\n    this.obClick = UIEvent.subscribe('mouseclick', () => this.overflow.classList.remove('ui-open'));\n    this.tether = UIUtils.tether(this.overflowToggle, this.overflow, { resize: false, position: 'br' });\n    window.setTimeout(() => this.arrange(), 500);\n  }\n  detached() {\n    this.tether.dispose();\n    this.obClick.dispose();\n    this.obResize.dispose();\n  }\n  // unbind() { }\n  // end aurelia hooks\n\n  private tether;\n  private isOverflow = false;\n\n  private wrapper: Element;\n  private overflow: Element;\n  private overflowToggle: Element;\n\n  private obClick;\n  private obResize;\n\n  arrange() {\n    this.overflow.classList.remove('ui-open');\n    for (let i = 0, c = this.overflow['children']; i < c.length; i++) {\n      this.wrapper.appendChild(c[i]);\n    }\n    if (this.isOverflow = (this.wrapper.lastElementChild.offsetLeft + this.wrapper.lastElementChild.offsetWidth > this.wrapper.offsetWidth)) {\n      for (let c = this.wrapper['children'], i = c.length - 1; i >= 0; i--) {\n        if (c[i].offsetLeft + c[i].offsetWidth > this.wrapper.offsetWidth) {\n          if (this.overflow.hasChildNodes) this.overflow.insertBefore(c[i], this.overflow.childNodes[0]); else this.overflow.appendChild(c[i]);\n        }\n      }\n    }\n  }\n  showOverflow(evt) {\n    if (evt.button != 0) return true;\n    if (!this.overflow.classList.contains('ui-open')) {\n      this.overflow.classList.add('ui-open');\n      this.tether.position();\n    }\n    else\n      this.overflow.classList.remove('ui-open');\n  }\n}\n\n@autoinject()\n@inlineView('<template class=\"ui-menu\"><slot></slot></template>')\n@customElement('ui-menu')\nexport class UIMenu {\n  constructor(public element: Element) { }\n}\n\n@autoinject()\n@inlineView('<template class=\"ui-menu-section ${collapsed?\\'collapsed\\':\\'\\'}\"><div mouseup.trigger=\"toggleCollapse($event)\" if.bind=\"label\" class=\"ui-menu-section-title ${hasActive?\\'has-active\\':\\'\\'}\"><ui-glyph glyph=\"glyph-chevron-down\" if.bind=\"collapsible\"></ui-glyph><span innerhtml.bind=\"label\"></span></div><div class=\"ui-menu-section-body\"><slot></slot></div></template>')\n@customElement('ui-menu-group')\nexport class UIMenuGroup {\n  constructor(public element: Element) {\n    if (this.collapsible = element.hasAttribute('collapsible')) element.classList.add('collapsible');\n  }\n\n  @bindable() label = '';\n  @bindable() collapsed = false;\n\n  @child('.ui-menu-item.ui-active') hasActive;\n\n  collapsible = false;\n  toggleCollapse(event) {\n    this.collapsed = !this.collapsed;\n    event.stopPropagation();\n    event.preventDefault();\n    return false;\n  }\n}\n\n@autoinject()\n@containerless()\n@inlineView(`<template><a class=\"ui-menu-item \\${active?'ui-active':''} \\${disabled?'ui-disabled':''} \\${class}\" href.bind=\"href\" click.trigger=\"click($event)\">\n    <ui-glyph if.bind=\"glyph\" class=\"ui-menu-icon \\${glyph}\" glyph.bind=\"glyph\"></ui-glyph><span class=\"ui-menu-label\"><slot></slot></span></a></template>`)\n@customElement('ui-menu-item')\nexport class UIMenuItem {\n  constructor(public element: Element) { }\n\n  // aurelia hooks\n  // created(owningView: View, myView: View) { }\n  bind(bindingContext: Object, overrideContext: Object) {\n    this.active = isTrue(this.active);\n    this.disabled = isTrue(this.disabled);\n  }\n  // attached() { }\n  // detached() { }\n  // unbind() { }\n  // end aurelia hooks\n\n  @bindable() id = '';\n  @bindable() glyph = '';\n  @bindable() class = '';\n  @bindable() active = false;\n  @bindable() disabled = false;\n  @bindable() href = 'javascript:void(0)';\n\n  private click(evt) {\n    if (evt.button != 0) return true;\n    evt.cancelBubble = true;\n    evt.stopPropagation();\n    if (this.href !== 'javascript:void(0)') return true;\n    return UIEvent.fireEvent('click', this.element, this.id);\n  }\n}\n"],"sourceRoot":".."}